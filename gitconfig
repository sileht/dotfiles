[user]
	name = Mehdi Abaakouk
	email = sileht@sileht.net
	signingkey = A351AB805797B657D490BAD71892B42FCEAAEBC8
[color]
    ui = auto

[alias]
    amend = commit --amend
    ps = push-stack
    b = "!f() { git -c color.ui=always branch --sort=-committerdate --format='%(HEAD) %(color:yellow)%(refname:short)%(color:reset) - %(color:red)%(objectname:short)%(color:reset) - %(contents:subject) - %(authorname) (%(color:green)%(committerdate:relative)%(color:reset))' | head ${1:--25} ; }; f"
    bl = "!f() { git checkout $(git branch --sort=-committerdate --format='%(HEAD) %(refname:short)' | grep -v -e '^*' | head -1) ; }; f"

    pr = "!f() { git r ; git pull-request \"$@\"; }; f"
    t = "!f() { git branch --set-upstream-to=origin/${1:-main}; }; f"
    r = "!f() { git branch -M $(git rev-parse --abbrev-ref HEAD | sed -e 's,^wip-,,g' -e s,pull/[^-]*-sileht-,,g) ; }; f"
    f = "!f() { git branch -M \"$@\"; git main ; git checkout \"$@\" ; git t; }; f"
    p = "!f() { git pull --rebase origin \"$@\" ;}; f"
    hotfix = "!f() { git r ; git pull-request -l hotfix \"$@\"; }; f"
    wip = "!f() { git r ; git pull-request -l work-in-progress \"$@\"; }; f"

    lg = "!f() { git log --graph --pretty=cshort --abbrev-commit --date=relative ${@:--15} ;}; f"
    lc = !git oneline ORIG_HEAD.. --stat --no-merges
    oneline = log --pretty=oneline --abbrev-commit --graph --decorate
    who = shortlog -sne
    diffn = diff --name-status
    diffc = diff --cached
    diffs = diff --stat

    fpr = "!f() { b=$(git rev-parse --symbolic-full-name --abbrev-ref HEAD); git fetch github && git reset --hard github/$b && git h ;}; f"

    diverge-commit = "!f() { git merge-base $(git show-upstream $@) ${1:-HEAD}; }; f"
    review-branch = "!f() { git show ${1:-HEAD}:.gitreview | git config --get --file - gerrit.defaultbranch || echo main;}; f"
    rework = "!git rebase -i $(git diverge-commit $@)^"
    show-upstream = "!f() { git rev-parse --symbolic-full-name --abbrev-ref ${1}@{u} 2>/dev/null || git rev-parse --symbolic-full-name --abbrev-ref $(git review-branch)@{u}; }; f"
    fix-upstream = "!f() { git branch --set-upstream-to=$(git show-upstream) ; } ; f"
    h = !git rework
    where = "!f() { git bisect start HEAD $(git diverge-commit); git bisect run $@; }; f"

    showv= "!f() { git show $@ | git-split-diffs --color=16m | less -RFX ;} ; f"
    diffv = "!f() { git diff $@ | git-split-diffs --color=16m | less -RFX ;} ; f"
[core]
	excludesfile = ~/.gitignore-global
    #pager = git-split-diffs --color | less -RFX
[push]
	default = simple
[diff]
    tool = vimdiff
	colorMoved = zebra
[branch]
    autosetuprebase = always
[pretty]
    cmedium="format:%C(auto,yellow)commit %H%C(auto,reset)%nAuthor: %an <%ae>%nCommitter: %cn <%ce>%nDate:   %cd (%cr)%n%n%w(0,4,4)%s%n%+b"
    cshort="tformat:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%an %cr)%Creset"
#[format]
#    pretty=cmedium
[log]
    date=local
[sendemail]
    smtpSslCertPath = /etc/ssl/certs/
    smtpEncryption = tls
	smtpServer = mail.sileht.net
	smtpUser = sileht@sileht.net
	smtpServerPort = 25
#[github]
#	user = sileht
[credential]
	helper = store
[init]
	defaultBranch = main
[split-diffs]
	theme-name = github-dark-dim
[color "status"]
	branch = 14 normal
	added = 10 normal
	updated = 10 normal
	localbranch = 14 normal
	changed = 11 normal
	header = normal
	remotebranch = 13 normal
	nobranch = 1 normal italic
	unmerged = 9 normal
	untracked = normal dim
[color "branch"]
	plain = 14 normal dim
	remote = 13 normal dim
	current = 14 normal
	local = 14 normal dim
	upstream = 13 normal
[color "remote"]
	hint = normal dim
	success = 2 normal
	error = 1 normal
	warning = 3 normal
[color "interactive"]
	header = 8 normal bold
	prompt = 15 4
	help = 8 normal
	error = 1 normal italic
[color "diff"]
	commit = 3 normal
	newMoved = 14 normal
	oldMovedAlternativeDimmed = 4 normal dim
	frag = 8 normal ul
	oldMovedAlternative = 12 normal dim
	contextBold = normal bold
	newBold = 10 normal bold
	context = normal
	oldMoved = 14 normal dim
	oldBold = 9 normal dim bold
	newMovedDimmed = 6 normal
	func = 8 normal ul
	meta = 8 normal
	newDimmed = 2 normal
	newMovedAlternative = 12 normal
	new = 10 normal
	newMovedAlternativeDimmed = 4 normal
	whitespace = normal 9
	oldMovedDimmed = 6 normal dim
	oldDimmed = 1 normal dim
	old = 9 normal dim
[color "decorate"]
	branch = 14 normal
	tag = 3 normal
	remotebranch = 13 normal
	stash = 8 normal
	grafted = 1 normal italic
	HEAD = 14 normal dim
[maintenance]
	repo = /home/sileht/.env/asdf
	repo = /home/sileht/.env/base16-shell
	repo = /home/sileht/.env
	repo = /home/sileht/.env/dotbot
	repo = /home/sileht/.env/exa
	repo = /home/sileht/.env/.git
	repo = /home/sileht/.env/pure
	repo = /home/sileht/.env/zcolors
	repo = /home/sileht/.env/zinit
	repo = /home/sileht/.env/zsh-autocomplete
	repo = /home/sileht/.env/zsh-autosuggestions
	repo = /home/sileht/.env/zsh-completions
	repo = /home/sileht/.env/zsh-snap
	repo = /home/sileht/.env/zsh-syntax-highlighting
	repo = /home/sileht/.env/fast-syntax-highlighting
	repo = /home/sileht/.env/history-search-multi-word
	repo = /home/sileht/.env/zsh-history-substring-search
