---
- defaults:
    link:
      relink: true
      create: true

- clean:
    - '~'
    - '~/.config'
    - '~/.config/dunst'
    - '~/.config/rofi'
    - '~/.config/ranger'
    - '~/.config/nvim'
    - '~/.ssh'
    - '~/.ctag'

- link:
    ~/.config/ranger: ranger
    ~/.config/rofi: rofi
    ~/.config/nvim/init.vim: nvim.vim
    ~/.config/bin/config.json: bin-config.json
    ~/.config/nvim/cheat40.txt: cheat40.txt
    ~/.Xresources: Xresources
    ~/.gitconfig: gitconfig
    ~/.gitignore-global: gitignore-global
    ~/.gnupg/gpg.conf: gpg.conf
    ~/.gnupg/gpg-agent.conf: gpg-agent.conf
    ~/.i3: i3
    ~/.mutt: mutt
    ~/.ssh/config: ssh-config
    ~/.tmux: tmux
    ~/.tmux.conf: tmux.conf
    ~/.urlview: urlview
    ~/.xsessionrc: xsessionrc
    ~/.xsession: xsessionrc
    ~/.wgetrc: wgetrc
    ~/.zprofile: zprofile
    ~/.zshenv: zshenv
    ~/.zshrc: zshrc

- shell:
    # - chsh -s $(which zsh)
    - git submodule update --init --recursive
    - pip install -U --user pipx
    - pipx install git-pull-request
    - pipx install reno
    - pipx install rstcheck
    - mkdir -p ~/.node-bin
    - cd ~/.node-bin && yarn add \
        git-split-diffs \
        vim-language-server \
        stylelint \
        stylelint-config-standard \
        jsonlint \
        alex \
        fixjson \
        prettier \
        bash-language-server \
        markdownlint
    - cd ~/.node-bin && yarn upgrade
